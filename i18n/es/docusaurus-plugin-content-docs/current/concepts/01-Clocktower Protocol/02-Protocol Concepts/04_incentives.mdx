---
id: incentives
title: Incentivos
sidebar_position: 4
---

## Pagando al Llamador

Como se mostró en la sección anterior, el llamador debe ser incentivado para consultar el contrato a intervalos regulares. Entonces, ¿cómo se hace esto?

## Incremento de Tiempo

Para agregar conciencia del tiempo al contrato, un valor de tiempo debe ser incrementado por una cuenta externa.

Uno puede pensar en el proceso como un botón virtual que cualquiera puede presionar. Y aunque cuesta dinero presionar el botón, hay una recompensa para la primera persona que presione el botón cada día.

Un ejemplo más real es cómo los protocolos de préstamo obtienen liquidaciones de manera descentralizada.

Los protocolos de préstamo permiten que cualquier usuario liquide cualquier cuenta simplemente llamando a la función del contrato ellos mismos y recolectando una porción del colateral incautado.

## Consideraciones

### ¿Por qué no pagar al llamador en ETH?

Uno podría pensar que pagar al llamador en ETH sería apropiado ya que el llamador debe pagar por el gas de consultar el contrato. Pero hay algunas razones por las que esto no funcionará.

#### Ethereum y Aprobación

La capacidad del protocolo de tener acceso aprobado a las cuentas de usuario es crítica para transferir tokens sin problemas en una fecha futura.

Si bien todos los tokens ERC-20 estándar tienen un proceso integrado para facilitar la aprobación, ETH no lo tiene. Podríamos requerir que un usuario mantenga ETH envuelto en su cuenta, pero esto no es ideal desde una perspectiva de UX ni es común que el usuario promedio mantenga ethereum envuelto en su billetera.

#### Sin Oráculos

Otro problema es que si requiriéramos que una de las partes pagara sus tarifas en ETH pero la transferencia futura fuera un token ERC-20, necesitaríamos algún tipo de oráculo para calcular el precio del ERC-20 vs ETH para tener una tarifa proporcional. Pero dado que tener [sin oráculos](goals#no-oracles) es un objetivo del protocolo, esta conversión no funcionará.

#### Tarifas en especie

Como se mostró arriba, pagar al llamador en ETH no es ideal. Entonces la solución es simplemente pagar la tarifa en el mismo token ERC-20 que la suscripción. Para evitar oráculos, necesitará ser un porcentaje de la transacción general. Pero ¿quién paga esta tarifa? ¿El suscriptor o el proveedor?

#### Problema con el Proveedor pagando al Llamador

Uno podría pensar inicialmente que el proveedor debería pagar una porción de sus ganancias cada período al llamador. Esto parece más simple ya que solo hay un proveedor y son los que reciben todos los fondos.

Pero hay un vector de ataque si vamos por esta ruta. Dado que no tenemos forma de conocer la propiedad de una dirección de ethereum, es posible que las combinaciones del suscriptor, proveedor y llamador puedan ser la misma entidad.

Si el suscriptor y llamador son el mismo mientras el proveedor paga la tarifa al llamador, hay una situación donde el suscriptor podría registrarse para una suscripción pero no financiar su cuenta. Cuando la transacción falla, la tarifa aún se extraería del proveedor y se pagaría al llamador (que también es el suscriptor). Si la tarifa es más alta que los costos de gas de registrarse para la suscripción, entonces el suscriptor malicioso ahora tiene un método de extraer tokens del proveedor.

#### Problemas con el remitente pagando

Si el Proveedor no puede ser el que paga al llamador, debe ser el suscriptor. Pero esta elección presenta problemas adicionales que deben considerarse.

Los problemas más grandes giran en torno al problema de las transacciones fallidas que abordaremos en las siguientes secciones, [transacciones fallidas](failed_transactions).

La solución es tener un [saldo de tarifas](06_fees.mdx) donde las tarifas pueden ser reservadas y pagadas dependiendo de la situación. 








